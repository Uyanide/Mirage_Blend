好奇藏图数量的极限在哪里，遂有此仓库。娱乐为主，并非实用😌

## 使用方法

### 准备

1. 克隆仓库

   ```
   git clone https://github.com/Uyanide/Mirage_Blend
   cd Mirage_Blend
   ```

2. 配置环境 (如果你想要创建虚拟环境)

   ```
   uv venv .venv
   .venv/Scripts/activate.ps1 # 或其他方式，取决于你的 Shell
   ```

3. 安装依赖

   ```
   uv sync
   ```

### 编码

- 基本参数

  ```
  python ./encode.py -i 包含要隐藏的图像的文件夹路径 -o 输出图片路径
  ```

- 其他参数

  - `-n`, `--number`: 输入图像的数量，推荐为 32 的 1 / 4 / 9 倍，不包含表图，默认 32;
  - `-x`, `--width`: 生成图像的宽度，默认 800;
  - `-y`, `--height`: 生成图像的高度，默认 800。

- 注意事项

  - 所有图像会被缩放并裁剪至相同尺寸，如尺寸设置不当可能存在过度裁剪的情况;
  - 输入图像越多，隐藏的每张图像尺寸越小，这会严重影响解码后的图像质量。

### 解码

- 基本参数

  ```
  python ./decode.py -i 输入图像 -o 输出图像路径
  ```

- 其他参数

  - `-n`, `--number`: 解码图像的数量，不包含表图，默认 32;

- 解码时的`-n`, `--number`参数需与编码时的对应参数位于**同一区间**，具体区间划分如下:

  - 1 ~ 32 (包含 32)
  - 33 ~ 128 (包含 128)
  - 129 ~ 288 (包含 288)
  - ...

### 其他说明

- 生成的图像可能 (或者说极大概率) 存在能用肉眼分辨的图像，这些图像在输入序列中的序号通常接近 8 的倍数 (序号从 1 开始)，可自行控制;

- 如果输入序列中序号为 32 的整数倍数 (序号从 1 开始) 的图像为纯白，会导致输出图像所有像素的 alpha 通道值均为最大值，这可能导致某些平台将 PNG 图像压缩为 JPEG。